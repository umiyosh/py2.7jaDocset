<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>19.13. xml.etree.ElementTree — ElementTree XML API — Python 2.7ja1 documentation</title>
<link href="../_static/sphinxdoc.css" rel="stylesheet" type="text/css"/>
<link href="../_static/pygments.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.7ja1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
<script src="../_static/jquery.js" type="text/javascript"></script>
<script src="../_static/underscore.js" type="text/javascript"></script>
<script src="../_static/doctools.js" type="text/javascript"></script>
<script src="../_static/translations.js" type="text/javascript"></script>
<link href="../_static/opensearch.xml" rel="search" title="Python 2.7ja1 documentation 内を検索" type="application/opensearchdescription+xml"/>
<link href="../about.html" rel="author" title="このドキュメントについて"/>
<link href="../copyright.html" rel="copyright" title="著作権"/>
<link href="../index.html" rel="top" title="Python 2.7ja1 documentation"/>
<link href="markup.html" rel="up" title="19. 構造化マークアップツール"/>
<link href="internet.html" rel="next" title="20. インターネットプロトコルとその支援"/>
<link href="xml.sax.reader.html" rel="prev" title="19.12. xml.sax.xmlreader — XML パーサのインタフェース"/>
<link href="../_static/py.png" rel="shortcut icon" type="image/png"/>
<script src="../_static/copybutton.js" type="text/javascript"></script>
<script src="../_static/_jp.js" type="text/javascript"></script>
</head>
<body>
<div class="related">
<h3>ナビゲーション</h3>
<ul>
<li class="right" style="margin-right: 10px">
<a accesskey="I" href="../genindex.html" title="総合索引">索引</a></li>
<li class="right">
<a href="../py-modindex.html" title="Pythonモジュール索引">モジュール</a> |</li>
<li class="right">
<a accesskey="N" href="internet.html" title="20. インターネットプロトコルとその支援">次へ</a> |</li>
<li class="right">
<a accesskey="P" href="xml.sax.reader.html" title="19.12. xml.sax.xmlreader — XML パーサのインタフェース">前へ</a> |</li>
<li><img alt="" src="../_static/py.png" style="vertical-align: middle; margin-top: -1px"/></li>
<li><a href="../index.html">Python 2.7ja1 documentation</a> »</li>
<li><a href="index.html">Python 標準ライブラリ</a> »</li>
<li><a accesskey="U" href="markup.html">19. 構造化マークアップツール</a> »</li>
</ul>
</div>
<div class="sphinxsidebar">
<div class="sphinxsidebarwrapper">
<h3><a href="../contents.html">目次</a></h3>
<ul>
<li><a class="reference internal" href="#">19.13. <tt class="docutils literal"><span class="pre">xml.etree.ElementTree</span></tt> — ElementTree XML API</a><ul>
<li><a class="reference internal" href="#elementtree-functions">19.13.1. 関数</a></li>
<li><a class="reference internal" href="#element">19.13.2. Element オブジェクト</a></li>
<li><a class="reference internal" href="#elementtree">19.13.3. ElementTree オブジェクト</a></li>
<li><a class="reference internal" href="#qname">19.13.4. QName オブジェクト</a></li>
<li><a class="reference internal" href="#treebuilder">19.13.5. TreeBuilder オブジェクト</a></li>
<li><a class="reference internal" href="#xmlparser">19.13.6. XMLParser オブジェクト</a></li>
</ul>
</li>
</ul>
<h4>前のトピックへ</h4>
<p class="topless"><a href="xml.sax.reader.html" title="前の章へ">19.12. <tt class="docutils literal"><span class="pre">xml.sax.xmlreader</span></tt> — XML パーサのインタフェース</a></p>
<h4>次のトピックへ</h4>
<p class="topless"><a href="internet.html" title="次の章へ">20. インターネットプロトコルとその支援</a></p>
<h3>このページ</h3>
<ul class="this-page-menu">
<li><a href="../_sources/library/xml.etree.elementtree.txt" rel="nofollow">ソースコードを表示</a></li>
</ul>
<div id="searchbox" style="display: none">
<h3>クイック検索</h3>
<form action="../search.html" class="search" method="get">
<input name="q" type="text"/>
<input type="submit" value="検索"/>
<input name="check_keywords" type="hidden" value="yes"/>
<input name="area" type="hidden" value="default"/>
</form>
<p class="searchtip" style="font-size: 90%">
    モジュール、クラス、または関数名を入力してください
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
</div>
</div>
<div class="document">
<div class="documentwrapper">
<div class="bodywrapper">
<div class="body">
<div class="section" id="module-xml.etree.ElementTree">
<span id="xml-etree-elementtree-elementtree-xml-api"></span><h1><a name="//apple_ref/cpp/Module/xml.etree.ElementTree"></a>19.13. <a class="reference internal" href="#module-xml.etree.ElementTree" title="xml.etree.ElementTree: Implementation of the ElementTree API."><tt class="xref py py-mod docutils literal"><span class="pre">xml.etree.ElementTree</span></tt></a> — ElementTree XML API<a class="headerlink" href="#module-xml.etree.ElementTree" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p class="versionadded">
<span class="versionmodified">バージョン 2.5 で追加.</span></p>
<p><a class="reference internal" href="#xml.etree.ElementTree.Element" title="xml.etree.ElementTree.Element"><tt class="xref py py-class docutils literal"><span class="pre">Element</span></tt></a> 型は柔軟性のあるコンテナオブジェクトで、階層的データ構造をメモリーに格納するようにデザインされています。この型は言わばリストと辞書の間の子のようなものです。</p>
<p>各エレメントは関連する多くのプロパティを具えています:</p>
<ul class="simple">
<li>このエレメントがどういう種類のデータを表現しているかを同定する文字列であるタグ(別の言い方をすればエレメントの型)</li>
<li>幾つもの属性(Python 辞書に収められます)</li>
<li>テキスト文字列</li>
<li>オプションの末尾文字列</li>
<li>幾つもの子エレメント(Python シーケンスに収められます)</li>
</ul>
<p>element のインスタンスを作るには、 <a class="reference internal" href="#xml.etree.ElementTree.Element" title="xml.etree.ElementTree.Element"><tt class="xref py py-class docutils literal"><span class="pre">Element</span></tt></a> コンストラクタや
<a class="reference internal" href="#xml.etree.ElementTree.SubElement" title="xml.etree.ElementTree.SubElement"><tt class="xref py py-func docutils literal"><span class="pre">SubElement()</span></tt></a> ファクトリー関数を使います。</p>
<p><a class="reference internal" href="#xml.etree.ElementTree.ElementTree" title="xml.etree.ElementTree.ElementTree"><tt class="xref py py-class docutils literal"><span class="pre">ElementTree</span></tt></a> クラスはエレメントの構造を包み込み、それと XML を行き来するのに使えます。</p>
<p>この API の C 実装である <tt class="xref py py-mod docutils literal"><span class="pre">xml.etree.cElementTree</span></tt> も使用可能です。</p>
<p>チュートリアルその他のドキュメントへのリンクについては
<a class="reference external" href="http://effbot.org/zone/element-index.htm">http://effbot.org/zone/element-index.htm</a> を参照して下さい。
Fredrik Lundh のページも xml.etree.ElementTree の開発バージョンの置き場所です。</p>
<p class="versionchanged">
<span class="versionmodified">バージョン 2.7 で変更: </span>ElementTree API が 1.3 に更新されました。
より詳しい情報については、
<a class="reference external" href="http://effbot.org/zone/elementtree-13-intro.htm">Introducing ElementTree 1.3</a>
を参照してください。</p>
<div class="section" id="elementtree-functions">
<span id="id1"></span><h2>19.13.1. 関数<a class="headerlink" href="#elementtree-functions" title="このヘッドラインへのパーマリンク">¶</a></h2>
<dl class="function">
<dt id="xml.etree.ElementTree.Comment"><a name="//apple_ref/cpp/Function/xml.etree.ElementTree.Comment"></a>
<tt class="descclassname">xml.etree.ElementTree.</tt><tt class="descname">Comment</tt><big>(</big><em>text=None</em><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.Comment" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>コメント・エレメントのファクトリーです。このファクトリー関数は、標準のシリアライザでは
XML コメントにシリアライズされる特別な要素を作ります。コメント文字列は byte
文字列でも Unicode 文字列でも構いません。
<em>text</em> はそのコメント文字列を含んだ文字列です。コメントを表わすエレメントのインスタンスを返します。</p>
</dd></dl>
<dl class="function">
<dt id="xml.etree.ElementTree.dump"><a name="//apple_ref/cpp/Function/xml.etree.ElementTree.dump"></a>
<tt class="descclassname">xml.etree.ElementTree.</tt><tt class="descname">dump</tt><big>(</big><em>elem</em><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.dump" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>エレメントの木もしくはエレメントの構造を sys.stdout に書き込みます。この関数はデバグ目的でだけ使用してください。</p>
<p>出力される形式の正確なところは実装依存です。このバージョンでは、通常の XML ファイルとして書き込まれます。</p>
<p><em>elem</em> はエレメントの木もしくは個別のエレメントです。</p>
</dd></dl>
<dl class="function">
<dt id="xml.etree.ElementTree.fromstring"><a name="//apple_ref/cpp/Function/xml.etree.ElementTree.fromstring"></a>
<tt class="descclassname">xml.etree.ElementTree.</tt><tt class="descname">fromstring</tt><big>(</big><em>text</em><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.fromstring" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>文字列定数で与えられた XML 断片を構文解析します。 <a class="reference internal" href="#xml.etree.ElementTree.XML" title="xml.etree.ElementTree.XML"><tt class="xref py py-func docutils literal"><span class="pre">XML()</span></tt></a> 関数と同じです。 <em>text</em> は XML データの文字列です。
<a class="reference internal" href="#xml.etree.ElementTree.Element" title="xml.etree.ElementTree.Element"><tt class="xref py py-class docutils literal"><span class="pre">Element</span></tt></a> インスタンスを返します。</p>
</dd></dl>
<dl class="function">
<dt id="xml.etree.ElementTree.fromstringlist"><a name="//apple_ref/cpp/Function/xml.etree.ElementTree.fromstringlist"></a>
<tt class="descclassname">xml.etree.ElementTree.</tt><tt class="descname">fromstringlist</tt><big>(</big><em>sequence</em>, <em>parser=None</em><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.fromstringlist" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>文字列のシーケンスからXMLドキュメントを解析します。
<em>sequence</em> は XML データのフラグメントを格納した、 list かその他のシーケンスです。
<em>parser</em> はオプションの parser インスタンスです。指定されなかった場合、標準の <a class="reference internal" href="#xml.etree.ElementTree.XMLParser" title="xml.etree.ElementTree.XMLParser"><tt class="xref py py-class docutils literal"><span class="pre">XMLParser</span></tt></a> パーサーが利用されます。
<tt class="xref py py-class docutils literal"><span class="pre">Elment</span></tt> インスタンスを返します。</p>
<p class="versionadded">
<span class="versionmodified">バージョン 2.7 で追加.</span></p>
</dd></dl>
<dl class="function">
<dt id="xml.etree.ElementTree.iselement"><a name="//apple_ref/cpp/Function/xml.etree.ElementTree.iselement"></a>
<tt class="descclassname">xml.etree.ElementTree.</tt><tt class="descname">iselement</tt><big>(</big><em>element</em><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.iselement" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>オブジェクトが正当なエレメント・オブジェクトであるかをチェックします。 <em>element</em> はエレメント・インスタンスです。引数がエレメント・オブジェクトならば真値を返します。</p>
</dd></dl>
<dl class="function">
<dt id="xml.etree.ElementTree.iterparse"><a name="//apple_ref/cpp/Function/xml.etree.ElementTree.iterparse"></a>
<tt class="descclassname">xml.etree.ElementTree.</tt><tt class="descname">iterparse</tt><big>(</big><em>source</em>, <em>events=None</em>, <em>parser=None</em><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.iterparse" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>XML 断片を構文解析してエレメントの木を漸増的に作っていき、その間進行状況をユーザーに報告します。 <em>source</em> は XML
データを含むファイル名またはファイル風オブジェクト。 <em>events</em> は報告すべきイベントのリスト。省略された場合は “end” イベントだけが報告されます。
<em>parser</em> はオプションの引数で、パーサーのインスタンスを指定します。指定されなかった場合は標準の <a class="reference internal" href="#xml.etree.ElementTree.XMLParser" title="xml.etree.ElementTree.XMLParser"><tt class="xref py py-class docutils literal"><span class="pre">XMLParser</span></tt></a> が利用されます。
<tt class="docutils literal"><span class="pre">(event,</span> <span class="pre">elem)</span></tt> ペアのイテレータ(<a class="reference internal" href="../glossary.html#term-iterator"><em class="xref std std-term">iterator</em></a>)を返します。</p>
<div class="admonition note">
<p class="first admonition-title">ノート</p>
<p><a class="reference internal" href="#xml.etree.ElementTree.iterparse" title="xml.etree.ElementTree.iterparse"><tt class="xref py py-func docutils literal"><span class="pre">iterparse()</span></tt></a> は “start” イベントを送り出すとき開始タグの “&gt;” なる文字を見たことだけを保証しますので、アトリビュートは定義されますが、その時点ではテキストの内容もテール・アトリビュートもまだ定義されていません。同じことは子エレメントにも言えて、その時点ではあるともないとも言えません。</p>
<p class="last">全部が揃ったエレメントが必要ならば、”end” イベントを探すようにして下さい。</p>
</div>
</dd></dl>
<dl class="function">
<dt id="xml.etree.ElementTree.parse"><a name="//apple_ref/cpp/Function/xml.etree.ElementTree.parse"></a>
<tt class="descclassname">xml.etree.ElementTree.</tt><tt class="descname">parse</tt><big>(</big><em>source</em>, <em>parser=None</em><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.parse" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>XML 断片を構文解析して element tree にします。
<em>source</em> は XML データを含むファイル名またはファイル風オブジェクト。 <em>parser</em>
はオプションの構文解析器インスタンスです。これが与えられない場合、標準の <a class="reference internal" href="#xml.etree.ElementTree.XMLParser" title="xml.etree.ElementTree.XMLParser"><tt class="xref py py-class docutils literal"><span class="pre">XMLParser</span></tt></a> パーサーが使われます。
<a class="reference internal" href="#xml.etree.ElementTree.ElementTree" title="xml.etree.ElementTree.ElementTree"><tt class="xref py py-class docutils literal"><span class="pre">ElementTree</span></tt></a> インスタンスを返します。</p>
</dd></dl>
<dl class="function">
<dt id="xml.etree.ElementTree.ProcessingInstruction"><a name="//apple_ref/cpp/Function/xml.etree.ElementTree.ProcessingInstruction"></a>
<tt class="descclassname">xml.etree.ElementTree.</tt><tt class="descname">ProcessingInstruction</tt><big>(</big><em>target</em>, <em>text=None</em><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.ProcessingInstruction" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>PI エレメントのファクトリー。このファクトリー関数は XML の処理命令(processing instruction)
としてシリアライズされる特別なエレメントを作ります。 <em>target</em> は PI ターゲットを含んだ文字列です。 <em>text</em> は与えられるならば PI
コンテンツを含んだ文字列です。
PI を表わすエレメント・インスタンスを返します。</p>
</dd></dl>
<dl class="function">
<dt id="xml.etree.ElementTree.register_namespace"><a name="//apple_ref/cpp/Function/xml.etree.ElementTree.register_namespace"></a>
<tt class="descclassname">xml.etree.ElementTree.</tt><tt class="descname">register_namespace</tt><big>(</big><em>prefix</em>, <em>uri</em><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.register_namespace" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>名前空間の prefix を登録します。レジストリはグローバルで、与えられた prefix
か名前空間URI のどちらかの既存のマッピングは全て削除されます。
<em>prefix</em> は名前空間の prefix です。 <em>uri</em> は名前空間のURIです。この名前空間のタグや属性は、可能な限り与えられた prefix をつけてシリアライズされます。</p>
<p class="versionadded">
<span class="versionmodified">バージョン 2.7 で追加.</span></p>
</dd></dl>
<dl class="function">
<dt id="xml.etree.ElementTree.SubElement"><a name="//apple_ref/cpp/Function/xml.etree.ElementTree.SubElement"></a>
<tt class="descclassname">xml.etree.ElementTree.</tt><tt class="descname">SubElement</tt><big>(</big><em>parent</em>, <em>tag</em><span class="optional">[</span>, <em>attrib</em><span class="optional">[</span>, <em>**extra</em><span class="optional">]</span><span class="optional">]</span><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.SubElement" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>子エレメントのファクトリー。この関数はエレメント・インスタンスを作り、それを既存のエレメントに追加します。</p>
<p>エレメント名、アトリビュート名およびアトリビュート値は byte 文字列でも Unicode 文字列でも構いません。 <em>parent</em>
は親エレメントです。 <em>tag</em> はエレメント名です。 <em>attrib</em> はオプションの辞書で、エレメントのアトリビュートを含んでいます。 <em>extra</em>
は追加のアトリビュートで、キーワード引数として与えられたものです。エレメント・インスタンスを返します。</p>
</dd></dl>
<dl class="function">
<dt id="xml.etree.ElementTree.tostring"><a name="//apple_ref/cpp/Function/xml.etree.ElementTree.tostring"></a>
<tt class="descclassname">xml.etree.ElementTree.</tt><tt class="descname">tostring</tt><big>(</big><em>element</em>, <em>encoding="us-ascii"</em>, <em>method="xml"</em><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.tostring" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>XML エレメントを全ての子エレメントを含めて表現する文字列を生成します。
<em>element</em> は <a class="reference internal" href="#xml.etree.ElementTree.Element" title="xml.etree.ElementTree.Element"><tt class="xref py py-class docutils literal"><span class="pre">Element</span></tt></a> のインスタンスです。 <em>encoding</em> <a class="footnote-reference" href="#id6" id="id2">[1]</a>
は出力エンコーディング(デフォルトは US-ASCII)です。
<em>method</em> は <tt class="docutils literal"><span class="pre">"xml"</span></tt>, <tt class="docutils literal"><span class="pre">"html"</span></tt>, <tt class="docutils literal"><span class="pre">"text"</span></tt> のいずれか(デフォルトは <tt class="docutils literal"><span class="pre">"xml"</span></tt>) です。
XML データを含んだエンコードされた文字列を返します。</p>
</dd></dl>
<dl class="function">
<dt id="xml.etree.ElementTree.tostringlist"><a name="//apple_ref/cpp/Function/xml.etree.ElementTree.tostringlist"></a>
<tt class="descclassname">xml.etree.ElementTree.</tt><tt class="descname">tostringlist</tt><big>(</big><em>element</em>, <em>encoding="us-ascii"</em>, <em>method="xml"</em><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.tostringlist" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>XML エレメントを全ての子エレメントを含めて表現する文字列を生成します。
<em>element</em> は <a class="reference internal" href="#xml.etree.ElementTree.Element" title="xml.etree.ElementTree.Element"><tt class="xref py py-class docutils literal"><span class="pre">Element</span></tt></a> のインスタンスです。 <em>encoding</em> <a class="footnote-reference" href="#id6" id="id3">[1]</a>
は出力エンコーディング(デフォルトは US-ASCII)です。
<em>method</em> は <tt class="docutils literal"><span class="pre">"xml"</span></tt>, <tt class="docutils literal"><span class="pre">"html"</span></tt>, <tt class="docutils literal"><span class="pre">"text"</span></tt> のいずれか(デフォルトは <tt class="docutils literal"><span class="pre">"xml"</span></tt>) です。
XML データを含んだエンコードされた文字列のリストを返します。これは、 <tt class="docutils literal"><span class="pre">"".join(tostringlist(element))</span> <span class="pre">==</span> <span class="pre">tostring(element)</span></tt>
であること以外、なにか特定のシーケンスになることは保証していません。</p>
<p class="versionadded">
<span class="versionmodified">バージョン 2.7 で追加.</span></p>
</dd></dl>
<dl class="function">
<dt id="xml.etree.ElementTree.XML"><a name="//apple_ref/cpp/Function/xml.etree.ElementTree.XML"></a>
<tt class="descclassname">xml.etree.ElementTree.</tt><tt class="descname">XML</tt><big>(</big><em>text</em>, <em>parser=None</em><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.XML" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>文字列定数で与えられた XML 断片を構文解析します。この関数は Python コードに「XML リテラル」を埋め込むのに使えます。 <em>text</em> は XML データを含んだ文字列です。
<em>parser</em> はオプションで、パーサーのインスタンスです。指定されなかった場合は、標準の <a class="reference internal" href="#xml.etree.ElementTree.XMLParser" title="xml.etree.ElementTree.XMLParser"><tt class="xref py py-class docutils literal"><span class="pre">XMLParser</span></tt></a> パーサーを利用します。
<a class="reference internal" href="#xml.etree.ElementTree.Element" title="xml.etree.ElementTree.Element"><tt class="xref py py-class docutils literal"><span class="pre">Element</span></tt></a> のインスタンスを返します。</p>
</dd></dl>
<dl class="function">
<dt id="xml.etree.ElementTree.XMLID"><a name="//apple_ref/cpp/Function/xml.etree.ElementTree.XMLID"></a>
<tt class="descclassname">xml.etree.ElementTree.</tt><tt class="descname">XMLID</tt><big>(</big><em>text</em>, <em>parser=None</em><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.XMLID" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>文字列定数で与えられた XML 断片を構文解析し、エレメント ID からエレメントへのマッピングを与える辞書も同時に返します。 <em>text</em> は XMLデータを含んだ文字列です。
<em>parser</em> はオプションで、パーサーのインスタンスです。指定されなかった場合は、標準の <a class="reference internal" href="#xml.etree.ElementTree.XMLParser" title="xml.etree.ElementTree.XMLParser"><tt class="xref py py-class docutils literal"><span class="pre">XMLParser</span></tt></a> パーサーを利用します。
<a class="reference internal" href="#xml.etree.ElementTree.Element" title="xml.etree.ElementTree.Element"><tt class="xref py py-class docutils literal"><span class="pre">Element</span></tt></a> のインスタンスと辞書のタプルを返します。</p>
</dd></dl>
</div>
<div class="section" id="element">
<span id="elementtree-element-objects"></span><h2>19.13.2. Element オブジェクト<a class="headerlink" href="#element" title="このヘッドラインへのパーマリンク">¶</a></h2>
<dl class="function">
<dt id="xml.etree.ElementTree.Element"><a name="//apple_ref/cpp/Function/xml.etree.ElementTree.Element"></a>
<tt class="descclassname">xml.etree.ElementTree.</tt><tt class="descname">Element</tt><big>(</big><em>tag[, attrib][, **extra]</em><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.Element" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>エレメントクラス。この関数は Element インタフェースを定義すると同時に、そのリファレンス実装を提供します。</p>
<p>エレメント名、アトリビュート名およびアトリビュート値は bytes 文字列でも
Unicode 文字列でも構いません。 <em>tag</em> はエレメント名です。
<em>attrib</em> はオプションの辞書で、エレメントのアトリビュートを含んでいます。 <em>extra</em>
は追加のアトリビュートで、キーワード引数として与えられたものです。エレメント・インスタンスを返します。</p>
<dl class="attribute">
<dt id="xml.etree.ElementTree.tag"><a name="//apple_ref/cpp/Attribute/xml.etree.ElementTree.tag"></a>
<tt class="descclassname">xml.etree.ElementTree.</tt><tt class="descname">tag</tt><a class="headerlink" href="#xml.etree.ElementTree.tag" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>このエレメントが表すデータの種類を示す文字列です(言い替えると、エレメントの型です)。</p>
</dd></dl>
<dl class="attribute">
<dt id="xml.etree.ElementTree.text"><a name="//apple_ref/cpp/Attribute/xml.etree.ElementTree.text"></a>
<tt class="descclassname">xml.etree.ElementTree.</tt><tt class="descname">text</tt><a class="headerlink" href="#xml.etree.ElementTree.text" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><em>text</em> アトリビュートはエレメントに結びつけられた付加的なデータを保持するのに使われます。名前が示唆しているようにこのアトリビュートはたいてい文字列ですが、アプリケーション固有のオブジェクトであって構いません。エレメントが XML ファイルから作られたものならば、このアトリビュートはエレメント・タグの間にあるテキストを丸ごと含みます。</p>
</dd></dl>
<dl class="attribute">
<dt id="xml.etree.ElementTree.tail"><a name="//apple_ref/cpp/Attribute/xml.etree.ElementTree.tail"></a>
<tt class="descclassname">xml.etree.ElementTree.</tt><tt class="descname">tail</tt><a class="headerlink" href="#xml.etree.ElementTree.tail" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><em>tail</em> アトリビュートはエレメントに結びつけられた付加的なデータを保持するのに使われます。このアトリビュートはたいてい文字列ですが、アプリケーション固有のオブジェクトであって構いません。エレメントが XML ファイルから作られたものならば、このアトリビュートはエレメントの終了タグと次のタグの直前までの間に見つかったテキストを丸ごと含みます。</p>
</dd></dl>
<dl class="attribute">
<dt id="xml.etree.ElementTree.attrib"><a name="//apple_ref/cpp/Attribute/xml.etree.ElementTree.attrib"></a>
<tt class="descclassname">xml.etree.ElementTree.</tt><tt class="descname">attrib</tt><a class="headerlink" href="#xml.etree.ElementTree.attrib" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>エレメントのアトリビュートを保持する辞書です。次のことに注意しましょう。
<em>attrib</em> は普通の書き換え可能な Python の辞書ではあるのですが、
ElementTree の実装によっては別の内部表現を選択して要求されたときにだけ辞書を作るようにするかもしれません。そうした実装の利益を享受するために、可能な限り下記の辞書メソッドを通じて使いましょう。</p>
</dd></dl>
<p>以下の辞書風メソッドがエレメントのアトリビュートに対して働きます。</p>
<dl class="method">
<dt id="xml.etree.ElementTree.clear"><a name="//apple_ref/cpp/Method/xml.etree.ElementTree.clear"></a>
<tt class="descclassname">xml.etree.ElementTree.</tt><tt class="descname">clear</tt><big>(</big><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.clear" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>エレメントをリセットします。全ての子孫エレメントを削除し、アトリビュートをクリアし、
test と tail を <tt class="docutils literal"><span class="pre">None</span></tt> にセットします。</p>
</dd></dl>
<dl class="method">
<dt id="xml.etree.ElementTree.get"><a name="//apple_ref/cpp/Method/xml.etree.ElementTree.get"></a>
<tt class="descclassname">xml.etree.ElementTree.</tt><tt class="descname">get</tt><big>(</big><em>key</em>, <em>default=None</em><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.get" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>エレメントの <em>key</em> という名前のアトリビュートを取得します。</p>
<p>アトリビュートの値、またはアトリビュートがない場合は <em>default</em> を返します。</p>
</dd></dl>
<dl class="method">
<dt id="xml.etree.ElementTree.items"><a name="//apple_ref/cpp/Method/xml.etree.ElementTree.items"></a>
<tt class="descclassname">xml.etree.ElementTree.</tt><tt class="descname">items</tt><big>(</big><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.items" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>エレメントのアトリビュートを (名前, 値) ペアのシーケンスとして返します。返されるアトリビュートの順番は決まっていません。</p>
</dd></dl>
<dl class="method">
<dt id="xml.etree.ElementTree.keys"><a name="//apple_ref/cpp/Method/xml.etree.ElementTree.keys"></a>
<tt class="descclassname">xml.etree.ElementTree.</tt><tt class="descname">keys</tt><big>(</big><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.keys" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>エレメントのアトリビュート名をリストとして返します。返される名前の順番は決まっていません。</p>
</dd></dl>
<dl class="method">
<dt id="xml.etree.ElementTree.set"><a name="//apple_ref/cpp/Method/xml.etree.ElementTree.set"></a>
<tt class="descclassname">xml.etree.ElementTree.</tt><tt class="descname">set</tt><big>(</big><em>key</em>, <em>value</em><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.set" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>エレメントのアトリビュート <em>key</em> に <em>value</em> をセットします。</p>
</dd></dl>
<p>以下のメソッドはエレメントの子(サブエレメント)に対して働きます。</p>
<dl class="method">
<dt id="xml.etree.ElementTree.append"><a name="//apple_ref/cpp/Method/xml.etree.ElementTree.append"></a>
<tt class="descclassname">xml.etree.ElementTree.</tt><tt class="descname">append</tt><big>(</big><em>subelement</em><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.append" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>エレメント <em>subelement</em> をこのエレメントの内部にあるサブエレメントのリストの最後に追加します。</p>
</dd></dl>
<dl class="method">
<dt id="xml.etree.ElementTree.extend"><a name="//apple_ref/cpp/Method/xml.etree.ElementTree.extend"></a>
<tt class="descclassname">xml.etree.ElementTree.</tt><tt class="descname">extend</tt><big>(</big><em>subelements</em><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.extend" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>シーケンスオブジェクト <em>subelements</em> から 0個以上のサブエレメントを追加します。サブエレメントが有効なオブジェクトでない場合は <a class="reference internal" href="exceptions.html#exceptions.AssertionError" title="exceptions.AssertionError"><tt class="xref py py-exc docutils literal"><span class="pre">AssertionError</span></tt></a>
を発生させます。</p>
<p class="versionadded">
<span class="versionmodified">バージョン 2.7 で追加.</span></p>
</dd></dl>
<dl class="method">
<dt id="xml.etree.ElementTree.find"><a name="//apple_ref/cpp/Method/xml.etree.ElementTree.find"></a>
<tt class="descclassname">xml.etree.ElementTree.</tt><tt class="descname">find</tt><big>(</big><em>match</em><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.find" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><em>match</em> にマッチする最初のサブエレメントを探します。
<em>match</em> はタグ名かパス(path)です。エレメント・インスタンスまたは <tt class="docutils literal"><span class="pre">None</span></tt> を返します。</p>
</dd></dl>
<dl class="method">
<dt id="xml.etree.ElementTree.findall"><a name="//apple_ref/cpp/Method/xml.etree.ElementTree.findall"></a>
<tt class="descclassname">xml.etree.ElementTree.</tt><tt class="descname">findall</tt><big>(</big><em>match</em><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.findall" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>タグ名かパスにマッチする全てのサブエレメントを探します。全てのマッチするエレメントを、ドキュメント上の順序で含むリストを返します。</p>
</dd></dl>
<dl class="method">
<dt id="xml.etree.ElementTree.findtext"><a name="//apple_ref/cpp/Method/xml.etree.ElementTree.findtext"></a>
<tt class="descclassname">xml.etree.ElementTree.</tt><tt class="descname">findtext</tt><big>(</big><em>match</em>, <em>default=None</em><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.findtext" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><em>match</em> にマッチする最初のサブエレメントのテキストを探します。
<em>match</em> はタグ名かパスです。最初にマッチするエレメントの text を返すか、エレメントが見あたらなかった場合
<em>default</em> を返します。マッチしたエレメントに text がなければ空文字列が返されるので気を付けましょう。</p>
</dd></dl>
<dl class="method">
<dt id="xml.etree.ElementTree.getchildren"><a name="//apple_ref/cpp/Method/xml.etree.ElementTree.getchildren"></a>
<tt class="descclassname">xml.etree.ElementTree.</tt><tt class="descname">getchildren</tt><big>(</big><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.getchildren" title="この定義へのパーマリンク">¶</a></dt>
<dd><p class="deprecated">
<span class="versionmodified">バージョン 2.7 で撤廃: </span><tt class="docutils literal"><span class="pre">list(elem)</span></tt> を使うか、 Element に対してイテレートしてください。</p>
</dd></dl>
<dl class="method">
<dt id="xml.etree.ElementTree.getiterator"><a name="//apple_ref/cpp/Method/xml.etree.ElementTree.getiterator"></a>
<tt class="descclassname">xml.etree.ElementTree.</tt><tt class="descname">getiterator</tt><big>(</big><em>tag=None</em><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.getiterator" title="この定義へのパーマリンク">¶</a></dt>
<dd><p class="deprecated">
<span class="versionmodified">バージョン 2.7 で撤廃: </span><tt class="xref py py-meth docutils literal"><span class="pre">Element.iter()</span></tt> メソッドを使ってください。</p>
</dd></dl>
<dl class="method">
<dt id="xml.etree.ElementTree.insert"><a name="//apple_ref/cpp/Method/xml.etree.ElementTree.insert"></a>
<tt class="descclassname">xml.etree.ElementTree.</tt><tt class="descname">insert</tt><big>(</big><em>index</em>, <em>element</em><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.insert" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>サブエレメントをこのエレメントの与えられた位置に挿入します。</p>
</dd></dl>
<dl class="method">
<dt id="xml.etree.ElementTree.iter"><a name="//apple_ref/cpp/Method/xml.etree.ElementTree.iter"></a>
<tt class="descclassname">xml.etree.ElementTree.</tt><tt class="descname">iter</tt><big>(</big><em>tag=None</em><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.iter" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>現在のエレメントを根とするツリーのイテレータ(<a class="reference internal" href="../glossary.html#term-iterator"><em class="xref std std-term">iterator</em></a>)を作ります。イテレータは現在のエレメントとそれ以下の全てのエレメントを、文書中での出現順(深さ優先順)でイテレートします。
<em>tag</em> が <tt class="docutils literal"><span class="pre">None</span></tt> または <tt class="docutils literal"><span class="pre">'*'</span></tt> でない場合は、与えられたタグに等しいものについてのみイテレータから返されます。イテレート中にツリー構造が変更された場合の結果は未定義です。</p>
</dd></dl>
<dl class="method">
<dt id="xml.etree.ElementTree.iterfind"><a name="//apple_ref/cpp/Method/xml.etree.ElementTree.iterfind"></a>
<tt class="descclassname">xml.etree.ElementTree.</tt><tt class="descname">iterfind</tt><big>(</big><em>match</em><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.iterfind" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>タグ名かパスにマッチする全てのサブエレメントを探します。全てのマッチするエレメントをドキュメント上の順序で yield するイテレート可能オブジェクトを返します。</p>
<p class="versionadded">
<span class="versionmodified">バージョン 2.7 で追加.</span></p>
</dd></dl>
<dl class="method">
<dt id="xml.etree.ElementTree.itertext"><a name="//apple_ref/cpp/Method/xml.etree.ElementTree.itertext"></a>
<tt class="descclassname">xml.etree.ElementTree.</tt><tt class="descname">itertext</tt><big>(</big><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.itertext" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>text のイテレータを作成します。このイテレータは、このエレメントと全てのサブエレメントをドキュメント上の順序で巡回し、全ての内部の text を返します。</p>
<p class="versionadded">
<span class="versionmodified">バージョン 2.7 で追加.</span></p>
</dd></dl>
<dl class="method">
<dt id="xml.etree.ElementTree.makeelement"><a name="//apple_ref/cpp/Method/xml.etree.ElementTree.makeelement"></a>
<tt class="descclassname">xml.etree.ElementTree.</tt><tt class="descname">makeelement</tt><big>(</big><em>tag</em>, <em>attrib</em><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.makeelement" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>現在のエレメントと同じ型の新しいエレメント・オブジェクトを作ります。このメソッドは呼び出さずに、 <a class="reference internal" href="#xml.etree.ElementTree.SubElement" title="xml.etree.ElementTree.SubElement"><tt class="xref py py-func docutils literal"><span class="pre">SubElement()</span></tt></a> ファクトリー関数を使って下さい。</p>
</dd></dl>
<dl class="method">
<dt id="xml.etree.ElementTree.remove"><a name="//apple_ref/cpp/Method/xml.etree.ElementTree.remove"></a>
<tt class="descclassname">xml.etree.ElementTree.</tt><tt class="descname">remove</tt><big>(</big><em>subelement</em><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.remove" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>現在のエレメントから <em>subelement</em> を削除します。
find* メソッド群と違ってこのメソッドはエレメントをインスタンスの同一性で比較します。タグや内容では比較しません。</p>
</dd></dl>
<p><a class="reference internal" href="#xml.etree.ElementTree.Element" title="xml.etree.ElementTree.Element"><tt class="xref py py-class docutils literal"><span class="pre">Element</span></tt></a> オブジェクトは以下のシーケンス型のメソッドを、サブエレメントを操作するためにサポートします:  <a class="reference internal" href="../reference/datamodel.html#object.__delitem__" title="object.__delitem__"><tt class="xref py py-meth docutils literal"><span class="pre">__delitem__()</span></tt></a>, <a class="reference internal" href="../reference/datamodel.html#object.__getitem__" title="object.__getitem__"><tt class="xref py py-meth docutils literal"><span class="pre">__getitem__()</span></tt></a>, <a class="reference internal" href="../reference/datamodel.html#object.__setitem__" title="object.__setitem__"><tt class="xref py py-meth docutils literal"><span class="pre">__setitem__()</span></tt></a>,
<a class="reference internal" href="../reference/datamodel.html#object.__len__" title="object.__len__"><tt class="xref py py-meth docutils literal"><span class="pre">__len__()</span></tt></a>.</p>
<p>注意: サブエレメントを持たないエレメントの真偽値は <tt class="docutils literal"><span class="pre">False</span></tt> になります。この挙動は将来のバージョンで変更されるかもしれません。直接真偽値をテストするのでなく、 <tt class="docutils literal"><span class="pre">len(elem)</span></tt> か <tt class="docutils literal"><span class="pre">elem</span> <span class="pre">is</span> <span class="pre">None</span></tt> を利用してください。</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">element</span> <span class="o">=</span> <span class="n">root</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">'foo'</span><span class="p">)</span>

<span class="k">if</span> <span class="ow">not</span> <span class="n">element</span><span class="p">:</span>  <span class="c"># careful!</span>
    <span class="k">print</span> <span class="s">"element not found, or element has no subelements"</span>

<span class="k">if</span> <span class="n">element</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
    <span class="k">print</span> <span class="s">"element not found"</span>
</pre></div>
</div>
</dd></dl>
</div>
<div class="section" id="elementtree">
<span id="elementtree-elementtree-objects"></span><h2>19.13.3. ElementTree オブジェクト<a class="headerlink" href="#elementtree" title="このヘッドラインへのパーマリンク">¶</a></h2>
<dl class="class">
<dt id="xml.etree.ElementTree.ElementTree"><a name="//apple_ref/cpp/Class/xml.etree.ElementTree.ElementTree"></a>
<em class="property">class </em><tt class="descclassname">xml.etree.ElementTree.</tt><tt class="descname">ElementTree</tt><big>(</big><em>element=None</em>, <em>file=None</em><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.ElementTree" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>ElementTree ラッパー・クラス。このクラスはエレメントの全階層を表現し、さらに標準 XML との相互変換を追加しています。</p>
<p><em>element</em> は根エレメントです。木はもし <em>file</em> が与えられればその XML の内容により初期化されます。</p>
<dl class="method">
<dt id="xml.etree.ElementTree.ElementTree._setroot"><a name="//apple_ref/cpp/Method/xml.etree.ElementTree.ElementTree._setroot"></a>
<tt class="descname">_setroot</tt><big>(</big><em>element</em><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.ElementTree._setroot" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>この木の根エレメントを置き換えます。したがって現在の木の内容は破棄され、与えられたエレメントが代わりに使われます。注意して使ってください。 <em>element</em> はエレメント・インスタンスです。</p>
</dd></dl>
<dl class="method">
<dt id="xml.etree.ElementTree.ElementTree.find"><a name="//apple_ref/cpp/Method/xml.etree.ElementTree.ElementTree.find"></a>
<tt class="descname">find</tt><big>(</big><em>match</em><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.ElementTree.find" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><em>match</em> にマッチする最初のトップレベルのエレメントを探します。
<em>match</em> はタグ名かパスです。
getroot().find(path) と同じです。最初に条件に合ったエレメント、または見つからない時は <tt class="docutils literal"><span class="pre">None</span></tt> を返します。</p>
</dd></dl>
<dl class="method">
<dt id="xml.etree.ElementTree.ElementTree.findall"><a name="//apple_ref/cpp/Method/xml.etree.ElementTree.ElementTree.findall"></a>
<tt class="descname">findall</tt><big>(</big><em>match</em><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.ElementTree.findall" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>タグ名かパスにマッチする全てのサブエレメントを探します。
getroot().findall(match) と同じです。 <em>match</em> はタグ名かパスです。条件に合った全てのエレメントを、ドキュメント上の順序で格納したリストを返します。</p>
</dd></dl>
<dl class="method">
<dt id="xml.etree.ElementTree.ElementTree.findtext"><a name="//apple_ref/cpp/Method/xml.etree.ElementTree.ElementTree.findtext"></a>
<tt class="descname">findtext</tt><big>(</big><em>match</em>, <em>default=None</em><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.ElementTree.findtext" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>子孫エレメントの中で与えられたタグを持つ最初のもののテキストを見つけます。
getroot().findtext(match) と同じです。 <em>match</em> はタグ名かパスです。
<em>default</em> はエレメントが見つからなかった場合に返される値です。条件に合った最初のエレメントのテキスト、または見つからなかった場合にはデフォルト値を返します。もしエレメントが見つかったもののテキストがなかった場合には、このメソッドは空文字列を返すということに気をつけてください。</p>
</dd></dl>
<dl class="method">
<dt id="xml.etree.ElementTree.ElementTree.getiterator"><a name="//apple_ref/cpp/Method/xml.etree.ElementTree.ElementTree.getiterator"></a>
<tt class="descname">getiterator</tt><big>(</big><em>tag=None</em><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.ElementTree.getiterator" title="この定義へのパーマリンク">¶</a></dt>
<dd><p class="deprecated">
<span class="versionmodified">バージョン 2.7 で撤廃: </span>代わりに <a class="reference internal" href="#xml.etree.ElementTree.ElementTree.iter" title="xml.etree.ElementTree.ElementTree.iter"><tt class="xref py py-meth docutils literal"><span class="pre">ElementTree.iter()</span></tt></a> メソッドを利用してください。</p>
</dd></dl>
<dl class="method">
<dt id="xml.etree.ElementTree.ElementTree.getroot"><a name="//apple_ref/cpp/Method/xml.etree.ElementTree.ElementTree.getroot"></a>
<tt class="descname">getroot</tt><big>(</big><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.ElementTree.getroot" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>この木の根エレメントを返します。</p>
</dd></dl>
<dl class="method">
<dt id="xml.etree.ElementTree.ElementTree.iter"><a name="//apple_ref/cpp/Method/xml.etree.ElementTree.ElementTree.iter"></a>
<tt class="descname">iter</tt><big>(</big><em>tag=None</em><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.ElementTree.iter" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>ルートエレメントに対する、ツリーを巡回するイテレータを返します。イテレータはツリーの全てのエレメントに渡ってセクション順にループします。
<em>tag</em> は探したいタグです(デフォルトでは全てのエレメントを返します)。</p>
</dd></dl>
<dl class="method">
<dt id="xml.etree.ElementTree.ElementTree.iterfind"><a name="//apple_ref/cpp/Method/xml.etree.ElementTree.ElementTree.iterfind"></a>
<tt class="descname">iterfind</tt><big>(</big><em>match</em><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.ElementTree.iterfind" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>タグ名かパスにマッチする全てのサブエレメントを返します。
getroot().iterfind(match) と同じです。全てのマッチするエレメントをドキュメント順に yield するイテレート可能オブジェクトを返します。</p>
<p class="versionadded">
<span class="versionmodified">バージョン 2.7 で追加.</span></p>
</dd></dl>
<dl class="method">
<dt id="xml.etree.ElementTree.ElementTree.parse"><a name="//apple_ref/cpp/Method/xml.etree.ElementTree.ElementTree.parse"></a>
<tt class="descname">parse</tt><big>(</big><em>source</em>, <em>parser=None</em><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.ElementTree.parse" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>外部の XML 断片をこのエレメントの木に読み込みます。
<em>source</em> は XML データを含むファイル名またはファイル風オブジェクト。
<em>parser</em> はオプションの構文解析器インスタンスです。これが与えられない場合、標準の XMLParser パーサーが使われます。断片の根エレメントを返します。</p>
</dd></dl>
<dl class="method">
<dt id="xml.etree.ElementTree.ElementTree.write"><a name="//apple_ref/cpp/Method/xml.etree.ElementTree.ElementTree.write"></a>
<tt class="descname">write</tt><big>(</big><em>file</em>, <em>encoding="us-ascii"</em>, <em>xml_declaration=None</em>, <em>method="xml"</em><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.ElementTree.write" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>エレメントの木をファイルに XML として書き込みます。
<em>file</em> はファイル名またはファイル風オブジェクトで書き込み用に開かれたもの。
<em>encoding</em> <a class="footnote-reference" href="#id6" id="id4">[1]</a> は出力エンコーディング(デフォルトは US-ASCII)です。
<em>xml_declaration</em> は、 XML 宣言がファイルに書かれるかどうかを制御します。
False の場合は常に書かれず、 True の場合は常に書かれ、 None の場合は
US-ASCII か UTF-8 以外の場合に書かれます (デフォルトは None です)。
<em>method</em> は <tt class="docutils literal"><span class="pre">"xml"</span></tt>, <tt class="docutils literal"><span class="pre">"html"</span></tt>, <tt class="docutils literal"><span class="pre">"text"</span></tt> のいづれかです
(デフォルトは <tt class="docutils literal"><span class="pre">"xml"</span></tt> です)。エンコードされた文字列を返します。</p>
</dd></dl>
</dd></dl>
<p>次に示すのがこれから操作する XML ファイルです:</p>
<div class="highlight-python"><pre>&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Example page&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;p&gt;Moved to &lt;a href="http://example.org/"&gt;example.org&lt;/a&gt;
        or &lt;a href="http://example.com/"&gt;example.com&lt;/a&gt;.&lt;/p&gt;
    &lt;/body&gt;
&lt;/html&gt;</pre>
</div>
<p>第1段落の全てのリンクの “target” アトリビュートを変更する例:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">xml.etree.ElementTree</span> <span class="kn">import</span> <span class="n">ElementTree</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tree</span> <span class="o">=</span> <span class="n">ElementTree</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tree</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="s">"index.xhtml"</span><span class="p">)</span>
<span class="go">&lt;Element 'html' at 0xb77e6fac&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s">"body/p"</span><span class="p">)</span>     <span class="c"># Finds first occurrence of tag p in body</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">p</span>
<span class="go">&lt;Element 'p' at 0xb77ec26c&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">links</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">iter</span><span class="p">(</span><span class="s">"a"</span><span class="p">))</span>   <span class="c"># Returns list of all links</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">links</span>
<span class="go">[&lt;Element 'a' at 0xb77ec2ac&gt;, &lt;Element 'a' at 0xb77ec1cc&gt;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">links</span><span class="p">:</span>             <span class="c"># Iterates through all found links</span>
<span class="gp">... </span>    <span class="n">i</span><span class="o">.</span><span class="n">attrib</span><span class="p">[</span><span class="s">"target"</span><span class="p">]</span> <span class="o">=</span> <span class="s">"blank"</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tree</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">"output.xhtml"</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="qname">
<span id="elementtree-qname-objects"></span><h2>19.13.4. QName オブジェクト<a class="headerlink" href="#qname" title="このヘッドラインへのパーマリンク">¶</a></h2>
<dl class="class">
<dt id="xml.etree.ElementTree.QName"><a name="//apple_ref/cpp/Class/xml.etree.ElementTree.QName"></a>
<em class="property">class </em><tt class="descclassname">xml.etree.ElementTree.</tt><tt class="descname">QName</tt><big>(</big><em>text_or_uri</em>, <em>tag=None</em><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.QName" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>QName ラッパー。このクラスは QName アトリビュート値をラップし、出力時に真っ当な名前空間の扱いを得るために使われます。 <em>text_or_uri</em>
は {uri}local という形式の QName 値を含む文字列、または tag 引数が与えられた場合には QName の URI 部分の文字列です。
<em>tag</em> が与えられた場合、一つめの引数は URI と解釈され、この引数はローカル名と解釈されます。
<a class="reference internal" href="#xml.etree.ElementTree.QName" title="xml.etree.ElementTree.QName"><tt class="xref py py-class docutils literal"><span class="pre">QName</span></tt></a> インスタンスは不透明です。</p>
</dd></dl>
</div>
<div class="section" id="treebuilder">
<span id="elementtree-treebuilder-objects"></span><h2>19.13.5. TreeBuilder オブジェクト<a class="headerlink" href="#treebuilder" title="このヘッドラインへのパーマリンク">¶</a></h2>
<dl class="class">
<dt id="xml.etree.ElementTree.TreeBuilder"><a name="//apple_ref/cpp/Class/xml.etree.ElementTree.TreeBuilder"></a>
<em class="property">class </em><tt class="descclassname">xml.etree.ElementTree.</tt><tt class="descname">TreeBuilder</tt><big>(</big><em>element_factory=None</em><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.TreeBuilder" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>汎用のエレメント構造ビルダー。これは start, data, end のメソッド呼び出しの列を整形式のエレメント構造に変換します。このクラスを使うと、好みの XML 構文解析器、または他の XML に似た形式の構文解析器を使って、エレメント構造を作り出すことができます。 <em>element_factory</em>
が与えられた場合には、新しい <a class="reference internal" href="#xml.etree.ElementTree.Element" title="xml.etree.ElementTree.Element"><tt class="xref py py-class docutils literal"><span class="pre">Element</span></tt></a> インスタンスを作る際にこれを呼び出します。</p>
<dl class="method">
<dt id="xml.etree.ElementTree.TreeBuilder.close"><a name="//apple_ref/cpp/Method/xml.etree.ElementTree.TreeBuilder.close"></a>
<tt class="descname">close</tt><big>(</big><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.TreeBuilder.close" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>ビルダーのバッファをフラッシュし、最上位の文書エレメントを返します。
<a class="reference internal" href="#xml.etree.ElementTree.Element" title="xml.etree.ElementTree.Element"><tt class="xref py py-class docutils literal"><span class="pre">Element</span></tt></a> インスタンスを返します。</p>
</dd></dl>
<dl class="method">
<dt id="xml.etree.ElementTree.TreeBuilder.data"><a name="//apple_ref/cpp/Method/xml.etree.ElementTree.TreeBuilder.data"></a>
<tt class="descname">data</tt><big>(</big><em>data</em><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.TreeBuilder.data" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>現在のエレメントにテキストを追加します。 <em>data</em> は文字列です。
bytes 文字列もしくは Unicode 文字列でなければなりません。</p>
</dd></dl>
<dl class="method">
<dt id="xml.etree.ElementTree.TreeBuilder.end"><a name="//apple_ref/cpp/Method/xml.etree.ElementTree.TreeBuilder.end"></a>
<tt class="descname">end</tt><big>(</big><em>tag</em><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.TreeBuilder.end" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>現在のエレメントを閉じます。 <em>tag</em> はエレメントの名前です。閉じられたエレメントを返します。</p>
</dd></dl>
<dl class="method">
<dt id="xml.etree.ElementTree.TreeBuilder.start"><a name="//apple_ref/cpp/Method/xml.etree.ElementTree.TreeBuilder.start"></a>
<tt class="descname">start</tt><big>(</big><em>tag</em>, <em>attrs</em><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.TreeBuilder.start" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>新しいエレメントを開きます。 <em>tag</em> はエレメントの名前です。
<em>attrs</em> はエレメントのアトリビュートを保持した辞書です。開かれたエレメントを返します。</p>
</dd></dl>
<p>加えて、カスタムの <a class="reference internal" href="#xml.etree.ElementTree.TreeBuilder" title="xml.etree.ElementTree.TreeBuilder"><tt class="xref py py-class docutils literal"><span class="pre">TreeBuilder</span></tt></a> オブジェクトは以下のメソッドを提供できます。</p>
<dl class="method">
<dt id="xml.etree.ElementTree.TreeBuilder.doctype"><a name="//apple_ref/cpp/Method/xml.etree.ElementTree.TreeBuilder.doctype"></a>
<tt class="descname">doctype</tt><big>(</big><em>name</em>, <em>pubid</em>, <em>system</em><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.TreeBuilder.doctype" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>doctype 宣言を処理します。 <em>name</em> は doctype 名です。
<em>pubid</em> は公式の識別子です。 <em>system</em> はシステム識別子です。このメソッドはデフォルトの <a class="reference internal" href="#xml.etree.ElementTree.TreeBuilder" title="xml.etree.ElementTree.TreeBuilder"><tt class="xref py py-class docutils literal"><span class="pre">TreeBuilder</span></tt></a> クラスには存在しません。</p>
<p class="versionadded">
<span class="versionmodified">バージョン 2.7 で追加.</span></p>
</dd></dl>
</dd></dl>
</div>
<div class="section" id="xmlparser">
<span id="elementtree-xmlparser-objects"></span><h2>19.13.6. XMLParser オブジェクト<a class="headerlink" href="#xmlparser" title="このヘッドラインへのパーマリンク">¶</a></h2>
<blockquote>
<div>XML ソースからエレメント構造を作るもので、expat 構文解析器に基づいています。 <em>html</em> は前もって定義された HTML
エンティティです。このオプションは現在の実装ではサポートされていません。
<em>target</em> はターゲットとなるオブジェクトです。省略された場合、標準の
TreeBuilder クラスのインスタンスが使われます。</div></blockquote>
<dl class="class">
<dt id="xml.etree.ElementTree.XMLParser"><a name="//apple_ref/cpp/Class/xml.etree.ElementTree.XMLParser"></a>
<em class="property">class </em><tt class="descclassname">xml.etree.ElementTree.</tt><tt class="descname">XMLParser</tt><big>(</big><em>html=0</em>, <em>target=None</em>, <em>encoding=None</em><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.XMLParser" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>expat パーサーを利用した、XML ソースデータからの <a class="reference internal" href="#xml.etree.ElementTree.Element" title="xml.etree.ElementTree.Element"><tt class="xref py py-class docutils literal"><span class="pre">Element</span></tt></a> 構造ビルダー。
<em>html</em> は定義済みの HTML エンティティです。このフラグは現在の実装ではサポートされていません。
<em>target</em> はターゲットオブジェクトです。省略された場合、ビルダーは標準の TreeBuilder クラスのインスタンスを利用します。
<em>encoding</em> <a class="footnote-reference" href="#id6" id="id5">[1]</a> はオプションで、与えられた場合は XML ファイルで指定されたエンコーディングをオーバーライドします。</p>
<dl class="method">
<dt id="xml.etree.ElementTree.XMLParser.close"><a name="//apple_ref/cpp/Method/xml.etree.ElementTree.XMLParser.close"></a>
<tt class="descname">close</tt><big>(</big><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.XMLParser.close" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>構文解析器にデータを供給するのを終わりにします。エレメント構造を返します。</p>
</dd></dl>
<dl class="method">
<dt id="xml.etree.ElementTree.XMLParser.doctype"><a name="//apple_ref/cpp/Method/xml.etree.ElementTree.XMLParser.doctype"></a>
<tt class="descname">doctype</tt><big>(</big><em>name</em>, <em>pubid</em>, <em>system</em><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.XMLParser.doctype" title="この定義へのパーマリンク">¶</a></dt>
<dd><p class="deprecated">
<span class="versionmodified">バージョン 2.7 で撤廃: </span>カスタムの TreeBuilder target で <a class="reference internal" href="#xml.etree.ElementTree.TreeBuilder.doctype" title="xml.etree.ElementTree.TreeBuilder.doctype"><tt class="xref py py-meth docutils literal"><span class="pre">TreeBuilder.doctype()</span></tt></a> メソッドを
定義してください。</p>
</dd></dl>
<dl class="method">
<dt id="xml.etree.ElementTree.XMLParser.feed"><a name="//apple_ref/cpp/Method/xml.etree.ElementTree.XMLParser.feed"></a>
<tt class="descname">feed</tt><big>(</big><em>data</em><big>)</big><a class="headerlink" href="#xml.etree.ElementTree.XMLParser.feed" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>構文解析器にデータを供給します。
<em>data</em> はエンコードされたデータです。</p>
</dd></dl>
</dd></dl>
<p><a class="reference internal" href="#xml.etree.ElementTree.XMLParser.feed" title="xml.etree.ElementTree.XMLParser.feed"><tt class="xref py py-meth docutils literal"><span class="pre">XMLParser.feed()</span></tt></a> は <em>target</em> の <tt class="xref py py-meth docutils literal"><span class="pre">start()</span></tt> メソッドをそれぞれの開始タグに対して呼び、また <tt class="xref py py-meth docutils literal"><span class="pre">end()</span></tt> メソッドを終了タグに対して呼び、そしてデータは <tt class="xref py py-meth docutils literal"><span class="pre">data()</span></tt> メソッドで処理されます。
<a class="reference internal" href="#xml.etree.ElementTree.XMLParser.close" title="xml.etree.ElementTree.XMLParser.close"><tt class="xref py py-meth docutils literal"><span class="pre">XMLParser.close()</span></tt></a> は <em>target</em> の <tt class="xref py py-meth docutils literal"><span class="pre">close()</span></tt> メソッドを呼びます。
<a class="reference internal" href="#xml.etree.ElementTree.XMLParser" title="xml.etree.ElementTree.XMLParser"><tt class="xref py py-class docutils literal"><span class="pre">XMLParser</span></tt></a> は木構造を構築する以外にも使えます。以下の例は、XML ファイルの最高の深さを数えます:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">xml.etree.ElementTree</span> <span class="kn">import</span> <span class="n">XMLParser</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">MaxDepth</span><span class="p">:</span>                     <span class="c"># The target object of the parser</span>
<span class="gp">... </span>    <span class="n">maxDepth</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">... </span>    <span class="n">depth</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag</span><span class="p">,</span> <span class="n">attrib</span><span class="p">):</span>   <span class="c"># Called for each opening tag.</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">depth</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="gp">... </span>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">depth</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">maxDepth</span><span class="p">:</span>
<span class="gp">... </span>            <span class="bp">self</span><span class="o">.</span><span class="n">maxDepth</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">depth</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">end</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tag</span><span class="p">):</span>             <span class="c"># Called for each closing tag.</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">depth</span> <span class="o">-=</span> <span class="mi">1</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">pass</span>            <span class="c"># We do not need to do anything with data.</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>    <span class="c"># Called when all data has been parsed.</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">maxDepth</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">target</span> <span class="o">=</span> <span class="n">MaxDepth</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parser</span> <span class="o">=</span> <span class="n">XMLParser</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">target</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exampleXml</span> <span class="o">=</span> <span class="s">"""</span>
<span class="gp">... </span><span class="s">&lt;a&gt;</span>
<span class="gp">... </span><span class="s">  &lt;b&gt;</span>
<span class="gp">... </span><span class="s">  &lt;/b&gt;</span>
<span class="gp">... </span><span class="s">  &lt;b&gt;</span>
<span class="gp">... </span><span class="s">    &lt;c&gt;</span>
<span class="gp">... </span><span class="s">      &lt;d&gt;</span>
<span class="gp">... </span><span class="s">      &lt;/d&gt;</span>
<span class="gp">... </span><span class="s">    &lt;/c&gt;</span>
<span class="gp">... </span><span class="s">  &lt;/b&gt;</span>
<span class="gp">... </span><span class="s">&lt;/a&gt;"""</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parser</span><span class="o">.</span><span class="n">feed</span><span class="p">(</span><span class="n">exampleXml</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parser</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="go">4</span>
</pre></div>
</div>
<p class="rubric">注記</p>
<table class="docutils footnote" frame="void" id="id6" rules="none">
<colgroup><col class="label"></col><col></col></colgroup>
<tbody valign="top">
<tr><td class="label">[1]</td><td>XML の出力に含まれるエンコーディング文字列は適切な標準に適合していなければなりません。たとえば、”UTF-8” は正当ですが、”UTF8” は違います。
<a class="reference external" href="http://www.w3.org/TR/2006/REC-xml11-20060816/#NT-EncodingDecl">http://www.w3.org/TR/2006/REC-xml11-20060816/#NT-EncodingDecl</a>
と
<a class="reference external" href="http://www.iana.org/assignments/character-sets">http://www.iana.org/assignments/character-sets</a>
を参照して下さい。</td></tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="clearer"></div>
</div>
<div class="related">
<h3>ナビゲーション</h3>
<ul>
<li class="right" style="margin-right: 10px">
<a href="../genindex.html" title="総合索引">索引</a></li>
<li class="right">
<a href="../py-modindex.html" title="Pythonモジュール索引">モジュール</a> |</li>
<li class="right">
<a href="internet.html" title="20. インターネットプロトコルとその支援">次へ</a> |</li>
<li class="right">
<a href="xml.sax.reader.html" title="19.12. xml.sax.xmlreader — XML パーサのインタフェース">前へ</a> |</li>
<li><img alt="" src="../_static/py.png" style="vertical-align: middle; margin-top: -1px"/></li>
<li><a href="../index.html">Python 2.7ja1 documentation</a> »</li>
<li><a href="index.html">Python 標準ライブラリ</a> »</li>
<li><a href="markup.html">19. 構造化マークアップツール</a> »</li>
</ul>
</div>
<div class="footer">
        © <a href="../copyright.html">Copyright</a> 1990-2011, Python Software Foundation.
      最終更新: 2011-12-26
      このドキュメントは <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2pre/02cb752c6a9e で生成しました。
    </div>
</body>
</html>