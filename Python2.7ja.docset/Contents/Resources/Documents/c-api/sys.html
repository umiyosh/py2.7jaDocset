<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>オペレーティングシステム関連のユーティリティ — Python 2.7ja1 documentation</title>
<link href="../_static/sphinxdoc.css" rel="stylesheet" type="text/css"/>
<link href="../_static/pygments.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.7ja1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
<script src="../_static/jquery.js" type="text/javascript"></script>
<script src="../_static/underscore.js" type="text/javascript"></script>
<script src="../_static/doctools.js" type="text/javascript"></script>
<script src="../_static/translations.js" type="text/javascript"></script>
<link href="../_static/opensearch.xml" rel="search" title="Python 2.7ja1 documentation 内を検索" type="application/opensearchdescription+xml"/>
<link href="../about.html" rel="author" title="このドキュメントについて"/>
<link href="../copyright.html" rel="copyright" title="著作権"/>
<link href="../index.html" rel="top" title="Python 2.7ja1 documentation"/>
<link href="utilities.html" rel="up" title="ユーティリティ関数"/>
<link href="import.html" rel="next" title="モジュールの import"/>
<link href="utilities.html" rel="prev" title="ユーティリティ関数"/>
<link href="../_static/py.png" rel="shortcut icon" type="image/png"/>
<script src="../_static/copybutton.js" type="text/javascript"></script>
<script src="../_static/_jp.js" type="text/javascript"></script>
</head>
<body>
<div class="related">
<h3>ナビゲーション</h3>
<ul>
<li class="right" style="margin-right: 10px">
<a accesskey="I" href="../genindex.html" title="総合索引">索引</a></li>
<li class="right">
<a href="../py-modindex.html" title="Pythonモジュール索引">モジュール</a> |</li>
<li class="right">
<a accesskey="N" href="import.html" title="モジュールの import">次へ</a> |</li>
<li class="right">
<a accesskey="P" href="utilities.html" title="ユーティリティ関数">前へ</a> |</li>
<li><img alt="" src="../_static/py.png" style="vertical-align: middle; margin-top: -1px"/></li>
<li><a href="../index.html">Python 2.7ja1 documentation</a> »</li>
<li><a href="index.html">Python/C API リファレンスマニュアル</a> »</li>
<li><a accesskey="U" href="utilities.html">ユーティリティ関数</a> »</li>
</ul>
</div>
<div class="sphinxsidebar">
<div class="sphinxsidebarwrapper">
<h3><a href="../contents.html">目次</a></h3>
<ul>
<li><a class="reference internal" href="#">オペレーティングシステム関連のユーティリティ</a></li>
<li><a class="reference internal" href="#systemfunctions">システム関数</a></li>
<li><a class="reference internal" href="#processcontrol">プロセス制御</a></li>
</ul>
<h4>前のトピックへ</h4>
<p class="topless"><a href="utilities.html" title="前の章へ">ユーティリティ関数</a></p>
<h4>次のトピックへ</h4>
<p class="topless"><a href="import.html" title="次の章へ">モジュールの import</a></p>
<h3>このページ</h3>
<ul class="this-page-menu">
<li><a href="../_sources/c-api/sys.txt" rel="nofollow">ソースコードを表示</a></li>
</ul>
<div id="searchbox" style="display: none">
<h3>クイック検索</h3>
<form action="../search.html" class="search" method="get">
<input name="q" type="text"/>
<input type="submit" value="検索"/>
<input name="check_keywords" type="hidden" value="yes"/>
<input name="area" type="hidden" value="default"/>
</form>
<p class="searchtip" style="font-size: 90%">
    モジュール、クラス、または関数名を入力してください
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
</div>
</div>
<div class="document">
<div class="documentwrapper">
<div class="bodywrapper">
<div class="body">
<div class="section" id="os">
<span id="id1"></span><h1>オペレーティングシステム関連のユーティリティ<a class="headerlink" href="#os" title="このヘッドラインへのパーマリンク">¶</a></h1>
<dl class="function">
<dt id="Py_FdIsInteractive"><a name="//apple_ref/cpp/Function/Py_FdIsInteractive"></a>
int <tt class="descname">Py_FdIsInteractive</tt><big>(</big>FILE<em> *fp</em>, const char<em> *filename</em><big>)</big><a class="headerlink" href="#Py_FdIsInteractive" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><em>filename</em> という名前の標準 I/O ファイル <em>fp</em> が対話的 (interactive) であると考えられる場合に真 (非ゼロ) を返します。これは <tt class="docutils literal"><span class="pre">isatty(fileno(fp))</span></tt> が真になるファイルの場合です。グローバルなフラグ <tt class="xref c c-data docutils literal"><span class="pre">Py_InteractiveFlag</span></tt>
が真の場合には、 <em>filename</em> ポインタが <em>NULL</em> か、名前が <tt class="docutils literal"><span class="pre">'&lt;stdin&gt;'</span></tt> または <tt class="docutils literal"><span class="pre">'???'</span></tt>
のいずれかに等しい場合にも真を返します。</p>
</dd></dl>
<dl class="function">
<dt id="PyOS_AfterFork"><a name="//apple_ref/cpp/Function/PyOS_AfterFork"></a>
void <tt class="descname">PyOS_AfterFork</tt><big>(</big><big>)</big><a class="headerlink" href="#PyOS_AfterFork" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>プロセスが fork した後の内部状態を更新するための関数です; fork 後 Python インタプリタを使い続ける場合、新たなプロセス内でこの関数を呼び出さねばなりません。新たなプロセスに新たな実行可能物をロードする場合、この関数を呼び出す必要はありません。</p>
</dd></dl>
<dl class="function">
<dt id="PyOS_CheckStack"><a name="//apple_ref/cpp/Function/PyOS_CheckStack"></a>
int <tt class="descname">PyOS_CheckStack</tt><big>(</big><big>)</big><a class="headerlink" href="#PyOS_CheckStack" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>インタプリタがスタック空間を使い尽くしたときに真を返します。このチェック関数には信頼性がありますが、 <tt class="xref py py-const docutils literal"><span class="pre">USE_STACKCHECK</span></tt>
が定義されている場合 (現状では Microsoft Visual C++ コンパイラでビルドした Windows 版) にしか利用できません .
<tt class="xref py py-const docutils literal"><span class="pre">USE_CHECKSTACK</span></tt> は自動的に定義されます; 自前のコードでこの定義を変更してはなりません。</p>
</dd></dl>
<dl class="function">
<dt id="PyOS_getsig"><a name="//apple_ref/cpp/Function/PyOS_getsig"></a>
PyOS_sighandler_t <tt class="descname">PyOS_getsig</tt><big>(</big>int<em> i</em><big>)</big><a class="headerlink" href="#PyOS_getsig" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>シグナル <em>i</em> に対する現在のシグナルハンドラを返します。この関数は <tt class="xref c c-func docutils literal"><span class="pre">sigaction()</span></tt> または <tt class="xref c c-func docutils literal"><span class="pre">signal()</span></tt>
のいずれかに対する薄いラッパです。 <tt class="xref c c-func docutils literal"><span class="pre">sigaction()</span></tt> や <tt class="xref c c-func docutils literal"><span class="pre">signal()</span></tt> を直接呼び出してはなりません!
<tt class="xref c c-type docutils literal"><span class="pre">PyOS_sighandler_t</span></tt> は <tt class="xref c c-type docutils literal"><span class="pre">void</span> <span class="pre">(*)(int)</span></tt> の typedef  による別名です。</p>
</dd></dl>
<dl class="function">
<dt id="PyOS_setsig"><a name="//apple_ref/cpp/Function/PyOS_setsig"></a>
PyOS_sighandler_t <tt class="descname">PyOS_setsig</tt><big>(</big>int<em> i</em>, PyOS_sighandler_t<em> h</em><big>)</big><a class="headerlink" href="#PyOS_setsig" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>シグナル <em>i</em> に対する現在のシグナルハンドラを <em>h</em> に設定します; 以前のシグナルハンドラを返します。この関数は
<tt class="xref c c-func docutils literal"><span class="pre">sigaction()</span></tt> または <tt class="xref c c-func docutils literal"><span class="pre">signal()</span></tt> のいずれかに対する薄いラッパです。 <tt class="xref c c-func docutils literal"><span class="pre">sigaction()</span></tt> や
<tt class="xref c c-func docutils literal"><span class="pre">signal()</span></tt> を直接呼び出してはなりません!  <tt class="xref c c-type docutils literal"><span class="pre">PyOS_sighandler_t</span></tt> は <tt class="xref c c-type docutils literal"><span class="pre">void</span>
<span class="pre">(*)(int)</span></tt> の typedef  による別名です。</p>
</dd></dl>
</div>
<div class="section" id="systemfunctions">
<span id="id2"></span><h1>システム関数<a class="headerlink" href="#systemfunctions" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p><a class="reference internal" href="../library/sys.html#module-sys" title="sys: システムパラメータと関数へのアクセス"><tt class="xref py py-mod docutils literal"><span class="pre">sys</span></tt></a> モジュールが提供している機能にCのコードからアクセスする関数です。すべての関数は現在のインタプリタスレッドの <a class="reference internal" href="../library/sys.html#module-sys" title="sys: システムパラメータと関数へのアクセス"><tt class="xref py py-mod docutils literal"><span class="pre">sys</span></tt></a> モジュールの辞書に対して動作します。この辞書は内部のスレッド状態構造体に格納されています。</p>
<dl class="function">
<dt id="PySys_GetObject"><a name="//apple_ref/cpp/Function/PySys_GetObject"></a>
<a class="reference internal" href="structures.html#PyObject" title="PyObject">PyObject</a> *<tt class="descname">PySys_GetObject</tt><big>(</big>char<em> *name</em><big>)</big><a class="headerlink" href="#PySys_GetObject" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="../library/sys.html#module-sys" title="sys: システムパラメータと関数へのアクセス"><tt class="xref py py-mod docutils literal"><span class="pre">sys</span></tt></a> モジュールの <em>name</em> オブジェクトを返すか、存在しなければ例外を設定せずに <em>NULL</em> を返します。</p>
</dd></dl>
<dl class="function">
<dt id="PySys_GetFile"><a name="//apple_ref/cpp/Function/PySys_GetFile"></a>
FILE *<tt class="descname">PySys_GetFile</tt><big>(</big>char<em> *name</em>, FILE<em> *def</em><big>)</big><a class="headerlink" href="#PySys_GetFile" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="../library/sys.html#module-sys" title="sys: システムパラメータと関数へのアクセス"><tt class="xref py py-mod docutils literal"><span class="pre">sys</span></tt></a> モジュールの <em>name</em> に関連付けられた <tt class="xref c c-type docutils literal"><span class="pre">FILE*</span></tt> を返します。
<em>name</em> がなかった場合や <tt class="xref c c-type docutils literal"><span class="pre">FILE*</span></tt> に関連付けられていなかった場合は <em>def</em> を返します。</p>
</dd></dl>
<dl class="function">
<dt id="PySys_SetObject"><a name="//apple_ref/cpp/Function/PySys_SetObject"></a>
int <tt class="descname">PySys_SetObject</tt><big>(</big>char<em> *name</em>, <a class="reference internal" href="structures.html#PyObject" title="PyObject">PyObject</a><em> *v</em><big>)</big><a class="headerlink" href="#PySys_SetObject" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><em>v</em> が <em>NULL</em> で無い場合、 <a class="reference internal" href="../library/sys.html#module-sys" title="sys: システムパラメータと関数へのアクセス"><tt class="xref py py-mod docutils literal"><span class="pre">sys</span></tt></a> モジュールの <em>name</em> に <em>v</em> を設定します。
<em>v</em> が <em>NULL</em> なら、 sys モジュールから <em>name</em> を削除します。成功したら <tt class="docutils literal"><span class="pre">0</span></tt> を、エラー時は <tt class="docutils literal"><span class="pre">-1</span></tt> を返します。</p>
</dd></dl>
<dl class="function">
<dt id="PySys_ResetWarnOptions"><a name="//apple_ref/cpp/Function/PySys_ResetWarnOptions"></a>
void <tt class="descname">PySys_ResetWarnOptions</tt><big>(</big><big>)</big><a class="headerlink" href="#PySys_ResetWarnOptions" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="../library/sys.html#sys.warnoptions" title="sys.warnoptions"><tt class="xref py py-data docutils literal"><span class="pre">sys.warnoptions</span></tt></a> を、空リストにリセットします。</p>
</dd></dl>
<dl class="function">
<dt id="PySys_AddWarnOption"><a name="//apple_ref/cpp/Function/PySys_AddWarnOption"></a>
void <tt class="descname">PySys_AddWarnOption</tt><big>(</big>char<em> *s</em><big>)</big><a class="headerlink" href="#PySys_AddWarnOption" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="../library/sys.html#sys.warnoptions" title="sys.warnoptions"><tt class="xref py py-data docutils literal"><span class="pre">sys.warnoptions</span></tt></a> に <em>s</em> を追加します。</p>
</dd></dl>
<dl class="function">
<dt id="PySys_SetPath"><a name="//apple_ref/cpp/Function/PySys_SetPath"></a>
void <tt class="descname">PySys_SetPath</tt><big>(</big>char<em> *path</em><big>)</big><a class="headerlink" href="#PySys_SetPath" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><a class="reference internal" href="../library/sys.html#sys.path" title="sys.path"><tt class="xref py py-data docutils literal"><span class="pre">sys.path</span></tt></a> を <em>path</em> に含まれるパスの、リストオブジェクトに設定します。
<em>path</em> はプラットフォームの検索パスデリミタ(Unixでは <tt class="docutils literal"><span class="pre">:</span></tt>, Windows では <tt class="docutils literal"><span class="pre">;</span></tt>)
で区切られたパスのリストでなければなりません。</p>
</dd></dl>
<dl class="function">
<dt id="PySys_WriteStdout"><a name="//apple_ref/cpp/Function/PySys_WriteStdout"></a>
void <tt class="descname">PySys_WriteStdout</tt><big>(</big>const char<em> *format</em>, ...<big>)</big><a class="headerlink" href="#PySys_WriteStdout" title="この定義へのパーマリンク">¶</a></dt>
<dd><p><em>format</em> で指定された出力文字列を <a class="reference internal" href="../library/sys.html#sys.stdout" title="sys.stdout"><tt class="xref py py-data docutils literal"><span class="pre">sys.stdout</span></tt></a> に出力します。切り詰めが起こった場合を含め、例外は一切発生しません。(後述)</p>
<p><em>format</em> は、フォーマット後の出力文字列のトータルの大きさを1000バイト以下に抑えるべきです。 – 1000 バイト以降の出力文字列は切り詰められます。特に、制限のない “%s” フォーマットを使うべきではありません。
“%.&lt;N&gt;s” のようにして N に10進数の値を指定し、&lt;N&gt; + その他のフォーマット後の最大サイズが1000を超えないように設定するべきです。同じように “%f” にも気を付ける必要があります。非常に大きい数値に対して、数百の数字を出力する可能性があります。</p>
<p>問題が発生したり、 <a class="reference internal" href="../library/sys.html#sys.stdout" title="sys.stdout"><tt class="xref py py-data docutils literal"><span class="pre">sys.stdout</span></tt></a> が設定されていなかった場合、フォーマット後のメッセージは本物の(Cレベルの) <em>stdout</em> に出力されます。</p>
</dd></dl>
<dl class="function">
<dt id="PySys_WriteStderr"><a name="//apple_ref/cpp/Function/PySys_WriteStderr"></a>
void <tt class="descname">PySys_WriteStderr</tt><big>(</big>const char<em> *format</em>, ...<big>)</big><a class="headerlink" href="#PySys_WriteStderr" title="この定義へのパーマリンク">¶</a></dt>
<dd><p>上と同じですが、 <a class="reference internal" href="../library/sys.html#sys.stderr" title="sys.stderr"><tt class="xref py py-data docutils literal"><span class="pre">sys.stderr</span></tt></a> か <em>stderr</em> に出力します。</p>
</dd></dl>
</div>
<div class="section" id="processcontrol">
<span id="id3"></span><h1>プロセス制御<a class="headerlink" href="#processcontrol" title="このヘッドラインへのパーマリンク">¶</a></h1>
<dl class="function">
<dt id="Py_FatalError"><a name="//apple_ref/cpp/Function/Py_FatalError"></a>
void <tt class="descname">Py_FatalError</tt><big>(</big>const char<em> *message</em><big>)</big><a class="headerlink" href="#Py_FatalError" title="この定義へのパーマリンク">¶</a></dt>
<dd><p id="index-0">致命的エラーメッセージ (fatal error message) を出力してプロセスを強制終了 (kill)
します。後始末処理は行われません。この関数は、Python  インタプリタを使い続けるのが危険であるような状況が検出されたとき;
例えば、オブジェクト管理が崩壊していると思われるときにのみ、呼び出されるようにしなければなりません。Unixでは、標準 C ライブラリ関数
<tt class="xref c c-func docutils literal"><span class="pre">abort()</span></tt> を呼び出して <tt class="file docutils literal"><span class="pre">core</span></tt> を生成しようと試みます。</p>
</dd></dl>
<dl class="function">
<dt id="Py_Exit"><a name="//apple_ref/cpp/Function/Py_Exit"></a>
void <tt class="descname">Py_Exit</tt><big>(</big>int<em> status</em><big>)</big><a class="headerlink" href="#Py_Exit" title="この定義へのパーマリンク">¶</a></dt>
<dd><p id="index-1">現在のプロセスを終了 (exit) します。この関数は <a class="reference internal" href="init.html#Py_Finalize" title="Py_Finalize"><tt class="xref c c-func docutils literal"><span class="pre">Py_Finalize()</span></tt></a> を呼び出し、次いで標準 C ライブラリ関数
<tt class="docutils literal"><span class="pre">exit(status)</span></tt> を呼び出します。</p>
</dd></dl>
<dl class="function">
<dt id="Py_AtExit"><a name="//apple_ref/cpp/Function/Py_AtExit"></a>
int <tt class="descname">Py_AtExit</tt><big>(</big>void (*func)<em> ()</em><big>)</big><a class="headerlink" href="#Py_AtExit" title="この定義へのパーマリンク">¶</a></dt>
<dd><p id="index-2"><a class="reference internal" href="init.html#Py_Finalize" title="Py_Finalize"><tt class="xref c c-func docutils literal"><span class="pre">Py_Finalize()</span></tt></a> から呼び出される後始末処理を行う関数 (cleanup function) を登録します。後始末関数は引数無しで呼び出され、値を返しません。最大で 32 の後始末処理関数を登録できます。登録に成功すると、 <a class="reference internal" href="#Py_AtExit" title="Py_AtExit"><tt class="xref c c-func docutils literal"><span class="pre">Py_AtExit()</span></tt></a> は
<tt class="docutils literal"><span class="pre">0</span></tt> を返します;  失敗すると <tt class="docutils literal"><span class="pre">-1</span></tt> を返します。最後に登録した後始末処理関数から先に呼び出されます。各関数は高々一度しか呼び出されません。
Python の内部的な終了処理は後始末処理関数より以前に完了しているので、 <em>func</em> からはいかなる Python API も呼び出してはなりません。</p>
</dd></dl>
</div>
</div>
</div>
</div>
<div class="clearer"></div>
</div>
<div class="related">
<h3>ナビゲーション</h3>
<ul>
<li class="right" style="margin-right: 10px">
<a href="../genindex.html" title="総合索引">索引</a></li>
<li class="right">
<a href="../py-modindex.html" title="Pythonモジュール索引">モジュール</a> |</li>
<li class="right">
<a href="import.html" title="モジュールの import">次へ</a> |</li>
<li class="right">
<a href="utilities.html" title="ユーティリティ関数">前へ</a> |</li>
<li><img alt="" src="../_static/py.png" style="vertical-align: middle; margin-top: -1px"/></li>
<li><a href="../index.html">Python 2.7ja1 documentation</a> »</li>
<li><a href="index.html">Python/C API リファレンスマニュアル</a> »</li>
<li><a href="utilities.html">ユーティリティ関数</a> »</li>
</ul>
</div>
<div class="footer">
        © <a href="../copyright.html">Copyright</a> 1990-2011, Python Software Foundation.
      最終更新: 2011-12-26
      このドキュメントは <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2pre/02cb752c6a9e で生成しました。
    </div>
</body>
</html>